# Meal Planner CLI

The Meal Planner CLI generates weekly meal plans from a recipe catalogue and
produces grocery lists based on the resulting plan. Install the project and run
it with Python 3.11 or newer.

## Installation

```bash
pip install -e .
```

Alternatively, invoke the module directly with `python -m mealplanner` from the
repository root.

## Usage

The CLI provides two subcommands: `plan` to create a weekly plan and `groceries`
to build shopping lists from an existing plan.

### Generate a meal plan

```bash
mealplanner plan \
  --recipes data/recipes.yml \
  --config configs/week.yml \
  --out-md out/plan.md \
  --out-json out/plan.json
```

* `--recipes` – Path to a YAML or JSON file containing the recipe catalogue.
* `--config` – Path to the weekly planning configuration.
* `--out-md` – Destination for the rendered Markdown plan.
* `--out-json` – Destination for the structured plan data.
* `--history` *(optional)* – Path to a JSON file used to avoid repeating
  recent recipes. When provided, the new plan is recorded to the same file.
* `--seed` *(optional)* – Integer seed for deterministic plan generation.

### Generate grocery outputs

After creating a plan, produce grocery tables and Markdown summaries:

```bash
mealplanner groceries \
  --recipes data/recipes.yml \
  --config configs/week.yml \
  --plan out/plan.json \
  --out-csv out/groceries.csv \
  --out-md out/groceries.md
```

* `--plan` – Path to the JSON plan generated by the `plan` command.
* `--out-csv` – Destination for a CSV-formatted grocery table.
* `--out-md` – Destination for a Markdown grocery list.

## Example workflow

1. Prepare recipe, configuration, and optional history files in the `data/` and
   `configs/` directories.
2. Run `mealplanner plan` to create `out/plan.json` and `out/plan.md`.
3. Run `mealplanner groceries` to generate grocery outputs in `out/`.
4. Share or archive the Markdown and CSV files as needed.

Refer to `SPEC.md` for the comprehensive feature specification if required.
